(this["webpackJsonpsarah-armitage-project-five"]=this["webpackJsonpsarah-armitage-project-five"]||[]).push([[0],{31:function(e,t,a){e.exports=a(83)},36:function(e,t,a){},37:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(28),l=a.n(o),r=(a(36),a(4)),i=a(5),c=a(7),u=a(6),m=a(8),p=(a(37),a(18)),h=a.n(p);h.a.initializeApp({apiKey:"AIzaSyDbV1S2623FseOXa7X5Y3cRuUBY8Xx_Uv8",authDomain:"chat-app-26edb.firebaseapp.com",databaseURL:"https://chat-app-26edb.firebaseio.com",projectId:"chat-app-26edb",storageBucket:"chat-app-26edb.appspot.com",messagingSenderId:"1057627994740",appId:"1:1057627994740:web:77d4d8bb6632df674fef21"});var d=h.a,g=(n.Component,function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("header",null,s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",null,"Title"),s.a.createElement("button",{onClick:this.props.logOut},"Log Out"),s.a.createElement("form",null,s.a.createElement("label",{htmlFor:"themeColor"},"Pick Message Color Theme:"),s.a.createElement("input",{type:"color",id:"themeColor",value:"#ff34df",onChange:this.props.changeThemeColor})),s.a.createElement("form",{onSubmit:this.props.onButtonClickUserName},s.a.createElement("label",null,"Add Username"),s.a.createElement("input",{type:"text",value:this.props.username,onChange:this.props.userName}),s.a.createElement("button",null,"Save"))))}}]),t}(n.Component)),f=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"wrapper"},s.a.createElement("p",null,"Copyright Sarah Armitage 2019")))}}]),t}(n.Component),b=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement("form",{onSubmit:this.props.onButtonClick},s.a.createElement("label",{htmlFor:"userMessage"}),s.a.createElement("textarea",{rows:"10",cols:"40",placeholder:"Enter message here",id:"userMessage",onChange:this.props.onTextInput,value:this.props.textInputValue}),s.a.createElement("button",null,"Send")))}}]),t}(n.Component),v=a(30),S=a.n(v),E=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.messagesUSM;var e=this.props.user;console.log(e.displayName);var t,a,n=this.props.messages;return t={borderColor:"".concat(this.props.messageColor)},a={borderColor:"blue"},s.a.createElement("div",{className:"wrapper messageListContainer"},s.a.createElement(S.a,{className:"messageBox"},n.map((function(n){return n.username===e.displayName?s.a.createElement("li",{className:"message currentUserPosition",style:t},s.a.createElement("p",{className:"userName"},n.username),s.a.createElement("p",{className:"dateAndTime"},"".concat(n.date," ").concat(n.time)),s.a.createElement("p",{className:"messageText"},n.text)):s.a.createElement("li",{className:"message",style:a},s.a.createElement("p",{className:"userName"},n.username),s.a.createElement("p",{className:"messageText"},n.text))}))))}}]),t}(n.Component),C=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"notSingedInPage"},s.a.createElement("h2",null,"Not signed in"),s.a.createElement("form",{className:"signUp",onSubmit:this.props.onButtonClickSignUp},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sign Up!"),s.a.createElement("label",{htmlFor:"email"},"Email Address"),s.a.createElement("input",{type:"email",id:"email",placeholder:"Email address",onChange:this.props.emailSignUp}),s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",id:"password",placeholder:"Password",onChange:this.props.passwordSignUp}),s.a.createElement("button",null,"Sign Up!"))),s.a.createElement("form",{className:"login",onSubmit:this.props.onButtonClickSignIn},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sign In!"),s.a.createElement("label",{htmlFor:"email"},"Email Address"),s.a.createElement("input",{type:"email",id:"email",placeholder:"Email address",onChange:this.props.emailSignIn}),s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",id:"password",placeholder:"Password",onChange:this.props.passwordSignIn}),s.a.createElement("button",null,"Sign In")))))}}]),t}(n.Component),w=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState({userInput:t.target.value}),e.getDateAndTime()},e.handleSubmit=function(t){t.preventDefault(),console.log("clicked button");var a=d.database().ref("messages"),n=d.database().ref("userSpecificMessages"),s=[];Object.assign(s,e.state.messages),console.log("cloned array",s);var o=[];Object.assign(o,e.state.userSpecificMessages),console.log("cloned array",o);var l={username:e.state.currentUser.displayName,text:e.state.userInput,date:e.state.date,time:e.state.time};console.log(l),""!==l.text?(console.log("I am not empty"),s.length<100?(console.log("there are less than 100 messages in here!"),s.push(l),o.push(l),console.log(s)):(s.shift(),o.shift(),s.push(l),o.push(l),console.log(s))):console.log("I am empty"),a.set(s),n.set(o),e.setState({userInput:"",date:"",time:""})},e.handleSignUpEmail=function(t){e.setState({email:t.target.value})},e.hanldeSignUpPassword=function(t){e.setState({password:t.target.value})},e.handleSignUpSubmit=function(t){t.preventDefault(),console.log("I clicked the button!"),d.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).catch((function(e){console.log(e)}))},e.handleSignInEmail=function(t){e.setState({email:t.target.value})},e.hanldeSignInPassword=function(t){e.setState({password:t.target.value})},e.handleSignInSubmit=function(t){t.preventDefault(),console.log("I clicked the button!"),d.auth().signInWithEmailAndPassword(e.state.email,e.state.password).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}))},e.handleLogOut=function(e){d.auth().signOut().then((function(){console.log("I was signed out")})).catch((function(e){console.log(e)}))},e.handleUserName=function(t){e.setState({username:t.target.value})},e.handleSaveUserName=function(t){t.preventDefault();var a=d.auth().currentUser;a.displayName;a.updateProfile({displayName:e.state.username}).then((function(){console.log("successfully updated username");var e=a.displayName;console.log(e)})).catch((function(e){console.log("did not successfully updated username")})),e.setState({username:""})},e.handleThemeColorChange=function(t){e.setState({theme:{messageColor:t.target.value}}),console.log("I picked a different color!");var a=e.state.currentUser.uid;console.log(a),console.log(e.state.theme.messageColor),d.database().ref().child("users").child(a).set({themeColor:"".concat(e.state.theme.messageColor)})},e.getDateAndTime=function(){var t=(new Date).getDate(),a=(new Date).getMonth(),n=(new Date).getFullYear(),s="".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a]," ").concat(t,", ").concat(n);console.log(s);var o=(new Date).getHours(),l=(new Date).getMinutes(),r=(new Date).getSeconds();console.log("".concat(o," ").concat(l," ").concat(r));for(var i=[],c=0;c<=24;c++)i.push(c);console.log(i);for(var u=[],m=1;m<=2;m++)for(var p=1;p<=12;p++)u.push(p);u.unshift(12),console.log(u);var h=i.indexOf(o);console.log("the time index is:",h);var d=u[h];console.log(d);var g="".concat(d,":").concat(l);console.log(g),e.setState({date:s,time:g})},e.state={messages:[],userSpecificMessages:[],messagesFiltered:[],userInput:"",currentUser:null,username:"",uid:"",email:"",password:"",settingsPage:!1,theme:{messageColor:""},date:"",time:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=d.database().ref("messages"),a=d.database().ref("userSpecificMessages");t.on("value",(function(t){var a=t.val();console.log(a),e.setState({messages:a})})),a.on("value",(function(t){var a=t.val();console.log(a),e.setState({userSpecificMessages:a})})),d.auth().onAuthStateChanged((function(t){t?(console.log("I am logged in"),console.log(t),e.setState({currentUser:t,uid:t.uid}),d.database().ref("users").on("value",(function(t){var a=t.val();e.setState({theme:{messageColor:a["".concat(e.state.uid)].themeColor}})}))):(console.log("I am not logged in"),e.setState({currentUser:null}));if(null!=d.auth().currentUser){var a=t.displayName,n=(t.email,t.photoURL,t.emailVerified,t.uid);console.log(n),console.log(a)}})),d.database().ref("users").on("value",(function(e){e.val()}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(g,{logOut:this.handleLogOut,changeThemeColor:this.handleThemeColorChange,username:this.state.username,userName:this.handleUserName,onButtonClickUserName:this.handleSaveUserName}),s.a.createElement("main",null,null===this.state.currentUser?s.a.createElement(C,{emailSignUp:this.handleSignUpEmail,passwordSignUp:this.hanldeSignUpPassword,onButtonClickSignUp:this.handleSignUpSubmit,emailSignIn:this.handleSignInEmail,passwordSignIn:this.hanldeSignInPassword,onButtonClickSignIn:this.handleSignInSubmit}):s.a.createElement("div",{className:"content"},s.a.createElement("p",null,"signed in"),s.a.createElement(E,{user:this.state.currentUser,messages:this.state.messages,messagesUSM:this.state.userSpecificMessages,messageColor:this.state.theme.messageColor}),s.a.createElement(b,{onTextInput:this.handleChange,textInputValue:this.state.userInput,onButtonClick:this.handleSubmit}))),s.a.createElement(f,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.fa1000a9.chunk.js.map