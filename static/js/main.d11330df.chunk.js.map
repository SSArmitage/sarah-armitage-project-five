{"version":3,"sources":["firebase.js","Settings.js","Header.js","Footer.js","EmojiPicker.js","SendMessage.js","MessageList.js","SignInLogIn.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Settings","className","onSubmit","this","props","onButtonClickUserName","id","type","value","username","onChange","userName","onClick","logOut","Component","Header","userChange","handleSettingsClick","class","Footer","emojiChosen","EmojiPicker","useState","chosenEmoji","setChosenEmoji","emoji","onEmojiClick","event","emojiObject","preventDefault","handleEmojiClick","SendMessage","enterFunction","keyCode","console","log","document","getElementById","click","getChosenEmoji","sendEmojiIntoApp","textInput","current","focus","handleGifSearch","axios","method","url","responseType","params","api_key","q","state","gifSearchText","then","gifData","data","setState","searchGifs","showGifPicker","handleGifClick","target","src","selectedGifId","sendInfoWithForm","onFormButtonClick","changeGifMenuVisibility","handleGifTextInput","React","createRef","selectedEmoji","addEventListener","onButtonClick","htmlFor","onTextInput","textInputValue","ref","contenteditable","width","height","rows","cols","placeholder","showEmojiPicker","map","gifObject","images","fixed_height_small","MessageList","messageStyle","messageStyleOtherUser","user","array","messages","backgroundColor","message","messageGifUrl","text","match","displayName","style","date","time","SignInLogIn","onButtonClickSignUp","emailSignUp","required","passwordSignUp","title","onButtonClickSignIn","emailSignIn","passwordSignIn","App","handleChange","userInput","getDateAndTime","getGifInfoViaButton","chosenGif","handleSubmit","dbRef","database","dbRefUSM","newMessagesArray","Object","assign","newUserSpecificMessagesArray","userSpecificMessages","messageToBeAdded","currentUser","userId","uid","length","push","shift","set","handleSignUpEmail","email","hanldeSignUpPassword","password","handleSignUpSubmit","alert","auth","createUserWithEmailAndPassword","catch","error","handleSignInEmail","hanldeSignInPassword","handleSignInSubmit","signInWithEmailAndPassword","code","settingsPageClicked","handleLogOut","signOut","handleUserName","handleSaveUserName","updateProfile","updateUserNameInDB","forEach","handleThemeColorChange","theme","messageColor","child","themeColor","day","Date","getDate","monthNumber","getMonth","year","getFullYear","dateFull","hours","getHours","min","getMinutes","timeMilitary","getSeconds","i","timeNormal","x","unshift","indexOf","timeActual","newState","hanldleColorChange","handleEmojiSelection","temporaryUserInput","newTemporaryUserInput","messagesFiltered","tempUserInput","selectedColorOption","userComputer","userSignedIn","emojiString","on","snapshot","messagesArray","val","onAuthStateChanged","photoURL","emailVerified","headerChange","handleColorChange","messagesUSM","sendGifToApp","handleGif","Boolean","window","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d11330df.chunk.js","sourcesContent":["// import firebase from node modules\nimport firebase from 'firebase';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDbV1S2623FseOXa7X5Y3cRuUBY8Xx_Uv8\",\n    authDomain: \"chat-app-26edb.firebaseapp.com\",\n    databaseURL: \"https://chat-app-26edb.firebaseio.com\",\n    projectId: \"chat-app-26edb\",\n    storageBucket: \"chat-app-26edb.appspot.com\",\n    messagingSenderId: \"1057627994740\",\n    appId: \"1:1057627994740:web:77d4d8bb6632df674fef21\"\n};\n// Initialize Firebase using the config\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;","import React, { Component } from 'react';\n\nclass Settings extends Component {\n    render() {\n        return(\n            <div className=\"settings\">\n                <div className=\"wrapper flexContainer\">\n                    <div className=\"settingsFormContainer\">\n                        <h2>Settings</h2>\n                        <ul>\n                            <li>\n                                <form onSubmit={this.props.onButtonClickUserName}>\n                                    \n                                        <h3>Add/Change Username</h3>\n                                        {/* <label htmlFor=\"username\">Add/Change Username</label> */}\n                                        <input\n                                            id=\"username\"\n                                            type=\"text\"\n                                            value={this.props.username}\n                                            onChange={this.props.userName} />\n                                        <button>Save</button>\n                                    \n                                </form>\n                            </li>\n                            {/* adding these in but not working yet */}\n                            {/* <li>\n                                <form>\n                                    <label>Add/Change Display Picture</label>\n                                </form>\n                            </li> */}\n                            {/* <li>\n                                <form>\n                                    <h3>Change Color Theme</h3>\n                                    <div className=\"colorChoices\">\n                                        <div className=\"color\">\n                                            <label htmlFor=\"color1\"></label>\n                                            <div className=\"color1\"></div>\n                                            <input \n                                            type=\"radio\" \n                                            id=\"color1\"\n                                            name=\"colorChoice\"\n                                            checked={this.props.selectedColorOption = 'color1'}\n                                            value=\"color1\"\n                                            onClick={this.props.handleColorChange}/>\n                                        </div>\n                                        \n                                        <div className=\"color\">\n                                            <label htmlFor=\"color2\"></label>\n                                            <div className=\"color2\"></div>\n                                            <input \n                                            type=\"radio\" \n                                            id=\"color2\"\n                                            name=\"colorChoice\"\n                                            checked={this.props.selectedColorOption = 'color2'}\n                                            value=\"color2\"\n                                            onClick={this.props.handleColorChange}/>\n                                        </div>\n\n                                        <div className=\"color\">\n                                            <label htmlFor=\"color3\"></label>\n                                            <div className=\"color3\"></div>\n                                            <input \n                                            type=\"radio\" \n                                            id=\"color3\"\n                                            name=\"colorChoice\"\n                                            checked={\n                                            (event, 'color3') => {\n                                                this.props.selectedColorOption\n                                            }}\n                                            value=\"color3\"\n                                            onClick={this.props.handleColorChange}/>\n                                        </div>\n\n                                        <div className=\"color\">\n                                            <label htmlFor=\"color4\"></label>\n                                            <div className=\"color4\"></div>\n                                            <input \n                                            type=\"radio\" \n                                            id=\"color4\"\n                                            name=\"colorChoice\"\n                                            checked={this.props.selectedColorOption = 'color4'}\n                                            value=\"color4\"\n                                            onClick={this.props.handleColorChange}/>\n                                        </div>\n\n                                        <div className=\"color\">\n                                            <label htmlFor=\"color5\"></label>\n                                            <div className=\"color5\"></div>\n                                            <input \n                                            type=\"radio\" \n                                            id=\"color5\"\n                                            name=\"colorChoice\"\n                                            checked={this.props.selectedColorOption = 'color5'}\n                                            value=\"color5\"\n                                            onClick={this.props.handleColorChange}/>\n                                        </div>\n                                    </div>\n                                    <button>Save</button>\n                                </form>\n                            </li> */}\n                            {/* <li>\n                                <form>\n                                        <label>Change Font Size</label>\n                                </form>\n                            </li> */}\n                            <button onClick={this.props.logOut}>Log Out</button>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n}\n\nexport default Settings;","import React, { Component } from 'react';\nimport Settings from './Settings';\n\nclass Header extends Component {\n    render() {\n        return(\n            <div>\n            {this.props.userChange === false\n\n            ?\n\n                <header className=\"headerSignedOutPage\">\n                    <div className=\"wrapper flexContainer\">\n                        <h1>Chat App</h1>\n                        <div\n                            className=\"iconContainer\"\n                            onClick={this.props.handleSettingsClick}>\n                            <i class=\"fas fa-bars\"></i>\n                        </div>\n                    </div>\n                </header>\n            \n\n            :\n\n                <header className=\"headerSignedInPage\">\n                    <div className=\"wrapper flexContainer\">\n                        <h1>Chat App</h1>\n                        <div\n                            className=\"iconContainer\"\n                            onClick={this.props.handleSettingsClick}>\n                            <i class=\"fas fa-bars\"></i>\n                        </div>\n                    </div>\n                </header>\n        }\n            </div >\n\n            \n        );\n    };\n}\n\nexport default Header;","import React, { Component } from 'react';\n\nclass Footer extends Component {\n    render() {\n        return(\n            <footer>\n                <div className=\"wrapper flexContainer\">\n                    <p>Copyright Sarah Armitage 2019</p>\n                </div>\n            </footer>\n        );\n    };\n}\n\nexport default Footer;","import React, { useState } from 'react';\nimport Picker from 'emoji-picker-react';\n\nlet emojiChosen = '';\nconst EmojiPicker = (props) => {\n    const [chosenEmoji, setChosenEmoji] = useState(null);\n    // console.log(props);\n    \n\n    const onEmojiClick = (event, emojiObject) => {\n        event.preventDefault();\n        setChosenEmoji(emojiObject);\n        // console.log(emojiObject.emoji);\n        emojiChosen = emojiObject.emoji;\n        // console.log(emojiChosen);\n        props.handleEmojiClick(event, emojiChosen);\n    }\n    // check to make sure just one button has a \"submit\" functionality\n    // the emoji button could be \"submitting\" b/c when the button is clicked, it is automatically sending the message-> want it to wait  so that the user can continue typing their mssage\n    // check that the emoji button submit isnt actually calling the submit functionality of the message form\n\n    return (\n        <div>\n            {\n                chosenEmoji\n                    ? (<span>You chose: {chosenEmoji.emoji}</span>)\n                    : <span>No emoji Chosen</span>\n\n            }\n            <Picker onEmojiClick={onEmojiClick} />\n        </div>\n    );\n}\n\n\nexport default EmojiPicker;","import React, { Component } from 'react';\nimport EmojiPicker from './EmojiPicker';\nimport axios from 'axios';\n\nclass SendMessage extends Component {\n    constructor() {\n        super();\n        // creating a Ref that can then be assigned to the textarea element with ref-attribute, assigning it to the variable textInput\n        this.textInput = React.createRef();\n        this.state = {\n            selectedEmoji: '',\n            searchGifs: [],\n            showGifPicker: false,\n            gifSearchText: '',\n            selectedGifId: ''\n        }\n    }\n\n    componentDidMount() {\n        // document.addEventListener(\"keydown\", this.enterFunction, false);\n        document.addEventListener(\"keypress\", this.enterFunction, false);\n    }\n\n    enterFunction = (event )=> {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            //Do whatever when esc is pressed\n            console.log(\"Pressed enter\");\n            console.log(event);\n            document.getElementById('clickSend').click();\n            // this.props.onButtonClick()\n        }\n    }\n\n    // grab the emoji chosen by the user (coming from the EmojiPicker component) and set it in state in the variable slectedEmoji\n    getChosenEmoji = (event, emoji) => {\n        // console.log(emoji);\n        // this.setState({\n        //     selectedEmoji: emoji\n        // })\n        this.props.sendEmojiIntoApp(emoji);\n        // focus to the textarea when the emoji is clicked (lets the user keep typing message after they choose an emoji) -> using \"React refs\"\n        this.textInput.current.focus();\n    }\n\n    // submitOnEnter(event) {\n    //     console.log(event);\n    //     event.preventDefault();\n        \n    //     if (event.which === 13) {\n    //         event.target.form.dispatchEvent(new Event(\"submit\", { cancelable: true }));\n    //         console.log(\"enter\");\n            \n    //         event.preventDefault(); // Prevents the addition of a new line in the text field (not needed in a lot of cases)\n    //     }\n    // }\n\n    handleGifSearch = (event) => {\n        // event.preventDefault();\n        console.log(\"I searched for a gif\");\n        \n        // make axios call to GIPHY api\n        axios({\n            method: 'get',\n            url: `http://api.giphy.com/v1/gifs/search`,\n            responseType: 'json',\n            params: {\n                api_key: 'aBCgQnzAOOAJ9COBm7Yt2Rwhp5jVz0rN',\n                // q: `dog`\n                q: this.state.gifSearchText\n            }\n        }).then((gifData) => {\n            console.log(gifData.data.data);\n            this.setState({\n                searchGifs: gifData.data.data\n            }, this.setState({\n                showGifPicker: true\n            }))\n        })\n    }\n\n    handleGifClick = (event) => {\n        console.log(event);\n        console.log(event.target.src);\n        this.setState({\n            selectedGifId: event.target.src,\n            showGifPicker: false\n        })\n        // this.props.sendGifToApp(event.target.id)\n    }\n\n    sendInfoWithForm = (event) => {\n        console.log(\"blaaa blaa blaa\");\n        this.props.onFormButtonClick(this.state.selectedGifId);\n        this.setState({\n            selectedGifId: ''\n        })\n    }\n\n    // when user clicks on Gif button, either show or hide the Gif menu\n    changeGifMenuVisibility = (event) => {\n        console.log(event);\n        console.log(this.state.showGifPicker);\n        \n        if (this.state.showGifPicker) {\n            this.setState({\n                showGifPicker: false,\n                searchGifs: []\n            })\n        } else {\n            this.setState({\n                showGifPicker: true\n            })\n        }\n        \n    }\n\n    // when user types their gif search into the text input\n    handleGifTextInput = (event) => {\n        this.setState({\n            gifSearchText: event.target.value\n        }, this.handleGifSearch())\n    }\n\n    // NOTE: got gif to show up inside of fake text area.. now need it to get sent to the dispaly messages when send form\n    // need to remove the chosen gif from the text area after the send button is clicked - DONE\n    // also need to change the input stuff for the new fake text area\n    // fix date/time stamps\n\n    render() {\n        return(\n            <div className=\"sendMessageArea\">\n                <div className=\"wrapper flexContainer\">\n                    <form \n                    onSubmit={this.props.onButtonClick}\n                    // onSubmit={this.sendInfoWithForm}\n                    // onSubmit={this.submitOnEnter}\n                    >\n                            <label htmlFor=\"userMessage\"></label>\n                            {/* <textarea \n                            rows=\"10\" \n                            cols=\"40\" \n                            placeholder=\"Enter message here\" \n                            id=\"userMessage\" \n                            onChange={this.props.onTextInput}\n                            value={this.props.textInputValue}\n                            ref={this.textInput}\n                            contenteditable>\n                            </textarea> */}\n\n                            {/* an editable div (the \"contenteditable\" attribute allows users to make changes to the content inside the div, user can edit the contents of the div) that will look like a textarea. Depending on the content, the div will either have an actual text area inside for catching the users text input OR an image tag for gifs selected by the user */}\n                            {/* passing an image into a \"textarea\" */}\n                            <div \n                            className=\"textArea\"\n                            id=\"userMessage\"\n                            onChange={this.props.onTextInput}\n                            value={this.props.textInputValue}\n                            ref={this.textInput}\n                            contenteditable>\n\n                            {this.state.selectedGifId\n                            ?\n                            \n                            <div className=\"imageContainer\">\n                                <img\n                                src={this.state.selectedGifId}\n                                width=\"120\"\n                                height=\"100\"\n                                contenteditable=\"false\" />\n                            </div>\n                            :\n                            null\n                            }\n\n                            {/* Hi */}\n                            <textarea\n                                rows=\"10\"\n                                cols=\"40\"\n                                placeholder=\"Enter message here\"\n                                id=\"userMessage\"\n                                onChange={this.props.onTextInput}\n                                value={this.props.textInputValue}\n                                ref={this.textInput}\n                                // contenteditable\n                                >\n                            </textarea>\n\n                            </div>\n                            <div\n                            className=\"sendAndEmojiContainer\">\n                                <button \n                                className=\"emojiIcon\"\n                                onClick={this.props.onEmojiClick}>\n                                    <i class=\"far fa-laugh\"></i>\n                                </button>\n                                {/* <button onClick={this.handleGifSearch}>GIF</button> */}\n                                <button onClick={this.changeGifMenuVisibility}>GIF</button>\n                                <button \n                                id=\"clickSend\"\n                                onClick={this.sendInfoWithForm}>Send</button>   \n                            </div>\n                            \n                        {this.props.showEmojiPicker \n                        ? \n                        <div className=\"emojiPicker\">\n                            <EmojiPicker \n                            handleEmojiClick={this.getChosenEmoji}/>\n                        </div> \n                        :\n                        null}\n\n                        {this.state.showGifPicker\n                        ?\n                        <div className=\"gifPicker\">\n                            <input \n                            type=\"text\"\n                            onChange={this.handleGifTextInput}\n                            value={this.state.gifSearchText}\n                            >\n                            </input>\n                            <ul>\n                                {this.state.searchGifs.map((gifObject) => {\n                                    return (\n                                        <li>\n                                            <img \n                                            src={gifObject.images.fixed_height_small.url}\n                                            id={gifObject.id}\n                                            onClick={this.handleGifClick}/>\n                                        </li>\n                                    )\n                                })\n    \n                                }\n                            </ul>\n                        </div>\n                        :\n                        null}\n                    </form>\n                </div>\n            </div>\n        );\n    };\n}\n\nexport default SendMessage;","import React, { Component } from 'react';\nimport firebase from './firebase';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nclass MessageList extends Component {\n    render() {\n        // change color of message borders based on user selection (passed down as a prop from App.js)\n        // const arrayUSM = this.props.messagesUSM\n        // don't think I need this user specific messages anymore??? (have usernames atatched to messages now)\n        const user = this.props.user;\n        // console.log(user.displayName);\n        \n        const array = this.props.messages;\n        let messageStyle;\n        let messageStyleOtherUser;\n\n        messageStyle = {\n            backgroundColor: 'blueviolet'\n        };\n        // default color for the other users\n        messageStyleOtherUser = {\n            backgroundColor: '#0392cf'\n        };\n\n        // let messageText;\n       \n\n        // find the uid associated with the username and match based on that for color\n        return(\n\n            <div className=\"messageArea\">\n                <div className=\"wrapper messageListContainer\">\n                        <ScrollToBottom className=\"messageBox\">\n                            {   \n                                \n                            array.map((message) => {\n                                // let reMessage = new RegExp(message.text);\n                                // console.log(message.text);\n                                \n                                // if the message has a gif url in it, then grab that url\n                                // check that it has a \"http\" at the begining and a \"gif\" at the end\n                                const myRe = /^(http.*\\.gif)$/;\n                                let messageGifUrl = message.text.match(myRe);\n                                // console.log(messageGifUrl);\n                        \n                                if (message.username === user.displayName) {\n                                    return(\n                                        <li\n                                            className=\"message currentUserPosition\"\n                                            style={messageStyle} >\n                                            <p \n                                            className=\"userName\">\n                                            {message.username}</p>\n                                            <p\n                                            className=\"dateAndTime\">\n                                            {`${message.date} ${message.time}`}</p>\n                                            {/* <p \n                                            className=\"messageText\">\n                                            {message.text}</p> */}\n                                            {messageGifUrl !== null\n                                            // if the search for a gif url in the message is not null (meaning there was a match and it does include a gif url), then render the gif image, otherwise just render the message without an image\n                                            ?\n                                             <p>\n                                                <img src={messageGifUrl[0]}/>\n                                             </p>\n                                            :\n                                            <p>{message.text}</p>\n                                            }\n                                        </li>\n                                    )\n                                } else {\n                                    return(\n                                        <li\n                                            className=\"message\"\n                                            style={messageStyleOtherUser} >\n                                            <p \n                                            className=\"userName\">{message.username}</p>\n                                            <p\n                                            className=\"dateAndTime\">\n                                            {`${message.date} ${message.time}`}</p>\n                                            <p\n                                            className=\"messageText\">\n                                            {message.text}</p>\n                                        </li>\n                                    )\n                                }\n                            })}\n                        </ScrollToBottom>\n                </div>\n            </div>\n        );\n    };\n}\n\nexport default MessageList;","import React, { Component } from 'react';\n\nclass SignInLogIn extends Component {\n    render() {\n        return(\n            <div className=\"wrapper\">\n                <div className=\"notSingedInPage\">\n                    <form className=\"signUp\"\n                        onSubmit={this.props.onButtonClickSignUp}>\n                            <h2>Sign Up</h2>\n                            {/* working on making this username input work */}\n                            {/* <label htmlFor=\"displayName\">Username:</label>\n                            <input \n                                type=\"text\" \n                                id=\"displayName\" \n                                placeholder=\"Username\"\n                                required/> */}\n                            <label htmlFor=\"email\">Email Address:</label>\n                            <input \n                                type=\"email\" \n                                id=\"email\" \n                                placeholder=\"Email address\"\n                                onChange={this.props.emailSignUp}\n                                required/>\n                            <label htmlFor=\"password\">Password:</label>\n                            <input \n                                type=\"password\"\n                                id=\"password\"\n                                placeholder=\"Password\"\n                                onChange={this.props.passwordSignUp} \n                                required\n                                title=\"8 characters minimum\"/>\n                            <button>Sign Up</button>\n                    </form>\n\n                    {/* Sign in user */}\n                    <form \n                        className=\"login\"\n                        onSubmit={this.props.onButtonClickSignIn}>\n                            <h2>Sign In</h2>\n                            <label htmlFor=\"email\">Email Address:</label>\n                            <input\n                                type=\"email\"\n                                id=\"email\"\n                                placeholder=\"Email address\"\n                                onChange={this.props.emailSignIn} \n                                required/>\n                            <label htmlFor=\"password\">Password:</label>\n                            <input\n                                type=\"password\"\n                                id=\"password\"\n                                placeholder=\"Password\"\n                                onChange={this.props.passwordSignIn} \n                                required/>\n                            <button>Sign In</button>\n                    </form>\n                </div>\n            </div> \n        );\n    };\n}\n\nexport default SignInLogIn;","import React, { Component } from 'react';\n// import styles\nimport './App.css';\n// import firebase\nimport firebase from './firebase';\n// import components\nimport Header from './Header';\nimport Footer from './Footer';\nimport SendMessage from './SendMessage';\nimport MessagesList from './MessageList';\nimport SignInLogIn from './SignInLogIn';\nimport Settings from './Settings';\nimport getEmoji from './EmojiPicker';\n\n\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      messages: [],\n      userSpecificMessages: [],\n      messagesFiltered: [],\n      userInput: '',\n      tempUserInput: '',\n      currentUser: null,\n      username: '',\n      uid: '',\n      email: '',\n      password: '',\n      settingsPageClicked: true,\n      selectedColorOption: '',\n      theme: {\n        messageColor: ''\n      },\n      date: '',\n      time: '',\n      userComputer: '',\n      showEmojiPicker: false,\n      userSignedIn: false,\n      selectedEmoji: '',\n      emojiString: '',\n      selectedGifId: ''\n    }\n  }\n\n  componentDidMount() {\n    // connect app to firebase (messages stored in the messages branch)\n    const dbRef = firebase.database().ref('messages');\n    const dbRefUSM = firebase.database().ref('userSpecificMessages');\n    \n    // when the database changes (newMessages array) grab the data in the database (will come back as an array)\n    dbRef.on('value', (snapshot) => {\n    const messagesArray = snapshot.val();\n    \n    // set state with messagesArray from databse\n    this.setState({\n      messages: messagesArray\n    })\n    });\n\n    // set an event listener for user login status\n    // listen for change in user auth status (is user logged in or not?)\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        // User is signed in.\n        // if the user is signed it, set the user object to the current user in state (current user will go from null -> user object), this will conidtionally render the chat page\n        this.setState({\n          currentUser: user,\n          uid: user.uid\n        })\n\n        // ******** working on this functionality *********\n        // grab the user's custom theme colour from the database and set that in state, so that the messages will be updated to have that color\n        // const dbRefUsers = firebase.database().ref('users');\n        // dbRefUsers.on('value', (snapshot) => {\n        //   const usersInfo = snapshot.val();\n        //   this.setState({\n        //     theme: {\n        //       messageColor: usersInfo[`${this.state.uid}`].themeColor\n        //     }\n        //   })\n        // })\n\n\n      } else {\n        // No user is signed in.\n        // currentUser in state will be set to null, will show login page\n        this.setState({\n          currentUser: null\n        })\n      }\n\n      // get user info (use this info to differenitate the users text bubbles)\n      const currentUser = firebase.auth().currentUser;\n      if (currentUser != null) {\n        const userName = user.displayName;\n        const userEmail = user.email;\n        const userPhotoUrl = user.photoURL;\n        const userEmailVerified = user.emailVerified;\n        const userUid = user.uid;  // The user's ID, unique to the Firebase project\n      }\n    });\n  } \n\n  handleChange = (event) => {\n    this.setState({\n      userInput: event.target.value\n    })\n    // when user types message, grab the date and time\n    this.getDateAndTime();\n    // when the user starts typing, make sure that the emojiPicker is closed (if open)\n    this.setState({\n      showEmojiPicker: false\n    })\n  }\n\n  getGifInfoViaButton = (chosenGif) => {\n    console.log(\"passing gif info...\", chosenGif);\n    console.log(chosenGif);\n\n    // when user picks a gif, grab the date and time\n    this.getDateAndTime();\n    \n    // only if there is a gif chosen by user, set the userInput in state to be that gif, else do not update state\n    if (chosenGif) {\n      this.setState({\n        userInput: chosenGif\n      })\n    }\n    \n  }\n  \n\n  handleSubmit = (event, chosenGif) => {\n    console.log(event, chosenGif);\n    console.log(`I submitted the form!`);\n    \n\n    // this.setState({\n    //   showEmojiPicker: false\n    // })\n\n    // if (chosenGif !== undefined) {\n    //   console.log(\"I am not undefined\");\n    //   this.setState({\n    //     // chosenGif is a string (gif url)\n    //     userInput: chosenGif\n    //   })\n    // }\n    \n    event.preventDefault();\n    // will use dbRef when pushing up the new array to the database\n    const dbRef = firebase.database().ref('messages');\n    const dbRefUSM = firebase.database().ref('userSpecificMessages');\n\n    // clone the array of databast message objects from state using Object.assign method\n    // cant use spread b/c it is a shalow copy and woulndt copy the nested elements\n    const newMessagesArray = [];\n    Object.assign(newMessagesArray, this.state.messages);\n    const newUserSpecificMessagesArray = [];\n    Object.assign(newUserSpecificMessagesArray, this.state.userSpecificMessages);\n\n    // grab the message inputted by the user (held in state)\n    const messageToBeAdded = {\n      username: this.state.currentUser.displayName,\n      userId: this.state.currentUser.uid,\n      text: this.state.userInput,\n      date: this.state.date,\n      time: this.state.time\n    };\n    console.log(messageToBeAdded);\n    \n\n    // add messageToBeAdded to the cloned array, and push that array up to firebase (use set to replace the previous array up there)\n    // first check to see if the length of the newMessagesArray is less than 100 \n    // also check if the message is just an empty string\n    // then add messageToBeAdded to newMessagesArray\n    // then set in firebase (so that the dbRef listener will will be called and it will update the this.state.messages and cause app to re-render with the new message added to the list of messages)\n\n    // if the user's input is not empty, enter statment:\n    if (messageToBeAdded.text !== '') {\n      // if the cloned messages array is less than 100:\n      if (newMessagesArray.length < 100) {\n        // add the new message to the array\n        newMessagesArray.push(messageToBeAdded);\n        newUserSpecificMessagesArray.push(messageToBeAdded);\n\n        // else if the cloned messages array is greater than 100:\n      } else {\n        // remove the first message from the array (index=0)\n        newMessagesArray.shift();\n        newUserSpecificMessagesArray.shift();\n        // then add the new message to the end\n        newMessagesArray.push(messageToBeAdded);\n        newUserSpecificMessagesArray.push(messageToBeAdded);\n      }\n      // else message is empty\n    } else {\n      console.log(\"The gif did not make it into the db\");\n      \n    }\n\n    // push the newMessagesArray up to firebase (set to replace)\n    dbRef.set(newMessagesArray);\n    dbRefUSM.set(newUserSpecificMessagesArray);\n\n    // reset the userInput for the next message\n    // reset the date and time for next message\n    this.setState({\n      userInput: '',\n      date: '',\n      time: '',\n      showEmojiPicker: false\n    }); \n  }\n\n  // -------------------- AUTHENTICATION ---------------------\n  // ----- SIGN UP -----\n  // grab user email for sign up\n  handleSignUpEmail = (event) => {\n   this.setState({\n     email: event.target.value\n   })\n  }\n\n  // grab user password for sign up\n  // need to put notifcation for user -> password needs to be > 6 characters long\n  hanldeSignUpPassword = (event) => {    \n    this.setState({\n      password: event.target.value\n    })\n  }\n\n  // when user clicks sign up button\n  handleSignUpSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.password.length < 6) {\n      alert('Your password must be 6 characters or longer');\n    }\n    // create new account for user\n    firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).catch((error) => {\n      // handle errors here\n    })\n  }\n// ----- SIGN IN -----\n  // grab user email for sign in\n  handleSignInEmail = (event) => {\n    this.setState({\n      email: event.target.value\n    })\n  }\n\n  // grab user password for sign in\n  hanldeSignInPassword = (event) => {\n    this.setState({\n      password: event.target.value\n    })\n  }\n\n  // when user clicks sign in button\n  handleSignInSubmit = (event) => {\n    event.preventDefault();\n\n    // change in user auth status fires the auth event listener\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).catch(function (error) {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // handle incorrect sign in password\n      alert('You have entered either an incorrect email or password');\n    });\n    // make sure the settings page is closed when user logs out\n    this.setState({\n      settingsPageClicked: false\n    })\n  }\n\n// ----- SIGN OUT -----\n  handleLogOut = (event) => {\n    // change in user auth status fires the auth event listener\n    firebase.auth().signOut().then(function () {\n      // Sign-out successful.\n    }).catch(function (error) {\n      // An error happened.\n    });\n  }\n\n// ----- UPDATE USERNAME -----\n  // grab user's desired username \n  handleUserName = (event) => {\n    this.setState({\n      username: event.target.value\n    })\n  }\n  // send username to firebase auth on button submit\n  handleSaveUserName = (event) => {\n    event.preventDefault();\n\n    const user = firebase.auth().currentUser;\n    const userName = user.displayName;\n    user.updateProfile({\n      displayName: this.state.username,\n      // going to add the ability to add display picture\n      // photoURL: \"https://example.com/jane-q-user/profile.jpg\"\n    }).then(function () {\n      // Update successful.\n      const userName = user.displayName;\n      \n    }).then(() => {\n      // call fxn to update username in databse (ensures it stays up to date in the message history)\n      this.updateUserNameInDB()\n    }).catch(function (error) {\n      // An error happened.\n    });\n\n    this.setState({\n      username: '',\n      settingsPageClicked: !this.state.settingsPageClicked\n    });\n  }\n\n  // function to update username in database messages when the user changes their username\n  updateUserNameInDB = () => {\n    // reference to firebase, will use when sending array of messages with updated usernmes back up tp the DB\n    const dbRef = firebase.database().ref('messages');\n    const newMessagesArray = [];\n    // make a copy of the array held in this.state.messages (most recent copy of the mesages in firebase) and save it to an array called newMessagesArray\n    Object.assign(newMessagesArray, this.state.messages);\n\n    // keep the username up to date for all messages of a user (when/if a user changes their username, want to update all the messages they sent to have the current username)\n    newMessagesArray.forEach((message) => {\n      // if the userId of the message matches the current user's Id, then update that message to have the user's current username\n      if (message.userId === this.state.currentUser.uid) {\n        message.username = this.state.currentUser.displayName\n      }\n    })\n    // once the array has been updated so that all the messages have the new username, push that array up to firebase (this will cause a re-render and this.state.messages will be updated with the new array, and you will see the new username reflected in all the preivious messages)\n    dbRef.set(newMessagesArray);\n  }\n  \n  // ---------------- END OF AUTHENTICATION ------------------\n\n  handleThemeColorChange = (event) => {\n    this.setState({\n      theme: {\n        messageColor: event.target.value\n      } \n    })\n    const uid = this.state.currentUser.uid;\n    \n    // push the theme color selected by the user up to firebase (save it in under the user's specific uid #)\n    firebase.database().ref().child('users').child(uid).set({\n      themeColor: `${this.state.theme.messageColor}`\n    })\n  }\n\n  //--------------- DATE & TIME STAMP -----------------\n  // function to grab the date and time (to use in messages)\n  getDateAndTime = () => {\n    // get the date\n    const day = new Date().getDate(); //Current Day\n    const monthNumber = new Date().getMonth(); //Current Month\n    const year = new Date().getFullYear(); //Current Year\n    // convert monthNumber into monthYear\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    const monthWord = months[monthNumber];\n    const dateFull = `${monthWord} ${day}, ${year}`;\n    // get the time\n    const hours = new Date().getHours(); //Current Hours\n    const min = new Date().getMinutes(); //Current Minutes\n    const sec = new Date().getSeconds(); //Current Seconds\n    // make 24hour clock array\n    const timeMilitary = []\n    for (let i = 0; i <= 24; i++) {\n      timeMilitary.push(i);\n    }\n\n    // make the 12hour clock array\n    const timeNormal = [];\n    for (let x = 1; x <= 2; x++) {\n      for (let i = 1; i <= 12; i++) {\n        timeNormal.push(i);\n      }\n    }\n    timeNormal.unshift(12)\n\n    // convert the 24hour clock time into 12hour clock time\n    const timeIndex = timeMilitary.indexOf(hours);\n    const time = timeNormal[timeIndex];\n    // i.e. have: 14 22 31\n    // need: 2:22\n    const timeActual = `${time}:${min}`;\n\n    // ---------------------------\n    // The final date and time stamp\n    // use: dateFull & timeActual\n    // ---------------------------\n\n    // save the date and time in state (will be grabbed and attached to \"message\" when user clicks submit button)\n    this.setState({\n      date: dateFull,\n      time: timeActual\n    })\n  }\n\n  // when the user clicks on the hamburger icon the settings menu will appear (in the main)\n  handleSettingsClick = () => {\n    this.setState({\n      settingsPageClicked: !this.state.settingsPageClicked\n    })\n  }\n\n  // when the user clicks on the emoji icon, change the state of showEmojiPicker to true\n  handleEmojiClick = (event) => {\n    event.preventDefault();\n    const newState = !this.state.showEmojiPicker;\n    this.setState({\n      showEmojiPicker: newState\n    })\n  }\n\n  hanldleColorChange = (event) => {\n    // working on adding this\n    // this.setState({\n    //   theme: {\n    //     messageColor: event.target.value;\n    //   }\n    // })\n  }\n\n  handleEmojiSelection = (emoji) => {\n    console.log(emoji);\n    // this.setState({\n    //   selectedEmoji: emoji\n    // })\n    // add emoji to the user input \n    // let temporaryUserInput = `${this.state.userInput}${emoji}`\n    // this.setState({\n    //   userInput: `${this.state.userInput}${emoji}`\n    // })\n\n    // clone the user input in state\n    const temporaryUserInput = this.state.userInput;\n    // append the emoji on to the end of the string the user is typing in the moment\n    const newTemporaryUserInput = `${temporaryUserInput}${emoji}`\n    console.log(newTemporaryUserInput);\n    this.setState({\n      userInput: newTemporaryUserInput\n    })\n  }\n\n  // handleGif = (gifId) => {\n  //   console.log(\"Passed id to app!\");\n    \n  //   this.setState({\n  //     selectedGifId: ''\n  //   })\n  // }\n  \n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header\n        headerChange={this.state.currentUser}\n        handleSettingsClick={this.handleSettingsClick}/>\n        <main>\n          {/* first conditional: if the user variable in state is null, user is not logged in, in this case render the signup/login page\n          if the user variable holds the current user object from firebase, the user is logged in, in this case render the MAIN page */}\n          {this.state.currentUser === null \n\n          ? \n\n          <SignInLogIn \n          emailSignUp={this.handleSignUpEmail}\n          passwordSignUp={this.hanldeSignUpPassword}\n          onButtonClickSignUp={this.handleSignUpSubmit}\n          emailSignIn={this.handleSignInEmail}\n          passwordSignIn={this.hanldeSignInPassword}\n          onButtonClickSignIn={this.handleSignInSubmit}/>\n\n          : \n          \n          // second conditional\n          // rendering of the MAIN section of the page\n          // if the setting page icon was clicked it, the variable settingsPageClicked in state will be true, in this case render the settings page\n          // else it is false, and in this case render the messaging page\n          (this.state.settingsPageClicked === true\n           \n          ?\n\n          <Settings \n          username={this.state.username}\n          userName={this.handleUserName}\n          onButtonClickUserName={this.handleSaveUserName}\n          selectedColorOption={this.state.selectedColorOption}\n          handleColorChange={this.handleColorChange}\n          logOut={this.handleLogOut}/>\n\n          :\n\n          <div className=\"content\">\n            <MessagesList\n              user={this.state.currentUser}\n              messages={this.state.messages}\n              messagesUSM={this.state.userSpecificMessages}\n              messageColor={this.state.theme.messageColor} />\n            <SendMessage\n              onTextInput={this.handleChange}\n              textInputValue={this.state.userInput}\n              onEmojiClick={this.handleEmojiClick}\n              showEmojiPicker={this.state.showEmojiPicker}\n              onButtonClick={this.handleSubmit}\n              sendEmojiIntoApp={this.handleEmojiSelection}\n              sendGifToApp={this.handleGif}\n              onFormButtonClick={this.getGifInfoViaButton}\n            />\n          </div>\n          )\n          }\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}